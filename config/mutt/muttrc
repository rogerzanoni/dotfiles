set from        = rogerzanonidev@gmail.com
set smtp_url    = "smtp://rogerzanonidev@smtp.gmail.com:587/"
set realname    = "Roger Zanoni"
set editor      = 'vim'

# Don't let your firewall kill your idle connection.
set imap_keepalive  = 900

# Do not copy sent mail.  Gmail smtp already does this.
set copy        = no

set mbox_type=Maildir
set folder=~/Maildir
set spoolfile       = +INBOX #or +[Gmail]/Important
set postponed       = +[Gmail]/Drafts

# Cache
set header_cache    = ~/.mutt/cache/headers
set message_cachedir    = ~/.mutt/cache/bodies
set certificate_file    = ~/.mutt/certificates

# Gmail style keybindings
bind  editor <space> noop
bind  index,pager c  mail       #Compose
macro index,pager e  "<save-message>=[Gmail]/All Mail<enter><enter>" "Archive conversation"
bind  generic     x  tag-entry      #Select Conversation
bind  index       x  tag-thread     #Select Conversation
bind  pager       x  tag-message    #Select Conversation
bind  index,pager s  flag-message   #Star a message
macro index,pager +  <save-message>=[Gmail]/Important<enter><enter> "Mark as important"
macro index,pager !  <save-message>=[Gmail]/Spam<enter><enter> "Report spam"
bind  index,pager a  group-reply    #Reply all
bind  index,pager \# delete-thread  #Delete
bind  index,pager l  copy-message   #Label
bind  index,pager v  save-message   #Move to
macro index,pager I  <set-flag>O    "Mark as read"
macro index,pager U  <clear-flag>O  "Mark as unread"
macro index,pager ga "<change-folder>=[Gmail]/All Mail<enter>"  "Go to all mail"
macro index,pager gs <change-folder>=[Gmail]/Starred<enter> "Go to 'Starred'"
macro index,pager gd <change-folder>=[Gmail]/Drafts<enter>  "Go to 'Drafts'"
macro index,pager gl <change-folder>?               "Go to 'Label'"
macro index,pager gi <change-folder>=INBOX<enter>       "Go to inbox"
macro index,pager gt "<change-folder>=[Gmail]/Sent Mail<enter>" "Go to 'Sent Mail'"
folder-hook +INBOX 'macro index,pager y "<save-message>=[Gmail]/All Mail<enter><enter>" "Archive conversation"'
folder-hook +[Gmail]/Trash macro index,pager y <save-message>=INBOX<enter><enter> "Move to inbox"
folder-hook +[Gmail]/Starred bind  index,pager y flag-message #"Toggle star"

# This should be ' »›-‹L' to match Gmail, but $to_chars breaks on unicode.
set to_chars        = ' +>-<L'
# Don't move read mail.
set move        = no

# Sort by newest conversation first.
set sort        = reverse-threads
set sort_aux        = last-date-received

# Contact aliases, could also use `goobook`.
set alias_file      = ~/.mutt/aliases
set sort_alias      = alias
set reverse_alias   = yes
set reverse_name    = yes

# mailcap stuff
set mailcap_path = ~/.mailcap
auto_view text/x-diff
auto_view text/x-patch
set allow_ansi

# mailboxes
source $HOME/.mutt/mailboxes# set default
  color normal      white         default

# main colors
  color status      green         default
  color indicator   brightwhite   default
  color tree        blue          default
  color error       brightred     default
  color message     brightyellow  default

#
# message states
#
# order matters here since some states override others
#

# messages to me
uncolor index "~P"
  color index brightblack default "~P"

# threads containing new messages
uncolor index "~(~N)"
  color index brightblue default "~(~N)"

# new messages themselves
uncolor index "~N"
  color index brightyellow default "~N"

# tagged
uncolor index "~T"
  color index brightgreen default "~T"

# deleted
uncolor index "~D"
  color index brightred default "~D"

# set up the headers
  color header     brightyellow  default "^from:"
  color header     yellow        default "^to:"
  color header     yellow        default "^cc:"
  color header     blue          default "^date:"
  color header     brightblue    default "^subject:"

# message bodies
  color attachment brightblack   default
  color search     red           brightblack
  color signature  cyan          default
  color tilde      blue          default

# gpg
  color body       brightgreen   default "^gpg: Good signature.*"
  color body       brightred     default "^gpg: BAD signature.*"
  color body       yellow        default "^gpg: Can't check signature.*"

# urls
  color body       brightblue    default "(^|<| )mailto:[^ ]+@[^ ]( |>|$)"
  color body       brightblue    default "(^|<| )(http|https|ftp|file|telnet|news|finger)://[^ ]+( |>|$)"

# smileys, the right way and the backward-ass euro way
  color body       brightmagenta default "(^| )+(|[<>|])[8;:](|[^ ])[)(/|DOPS]( |$)+"
  color body       brightmagenta default "(^| )+[)(/|DOPS](|[^ ])[8;:](|[<>|])( |$)+"

# *bold*, _underline_, and /italic/
  color body       brightcyan    default "(^| )\\*[^*]+\\*( |$)"
  color body       brightcyan    default "(^| )_[^_]+_( |$)"
  color body       brightcyan    default "(^| )/[^/]+/( |$)"

# quote blocks
  color quoted     magenta       default
  color quoted1    cyan          default
  color quoted2    green         default
  color quoted3    magenta       default
  color quoted4    cyan          default
  color quoted5    green         default
  color quoted6    magenta       default
  color quoted7    cyan          default