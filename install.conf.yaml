- defaults:
    link:
      relink: true
      force: true

- clean: ['~']

- shell:
    -
      command: mkdir ~/bin; mkdir ~/.i3
      stdout: true
      stderr: true
      description: "Creating scripts config directories"
    -
      command: sudo pacman -Sy --noconfirm --needed gcc make binutils fakeroot gdb vim emacs i3-wm networkmanager network-manager-applet blueman feh xorg-server xorg-xinit xterm conky curl zsh openssh tig npm
      stdout: true
      stderr: true
      description: "Installing base packages (dev, i3)"
    -
      command: git clone https://aur.archlinux.org/packer.git /tmp/packer && cd /tmp/packer && makepkg -si --needed
      stdout: true
      stderr: true
      stdin: true
      description: "Installing packer"
    -
      command: packer -S dropbox rofi gohufont --noconfirm --noedit
      stdout: true
      stderr: true
      description: "Installing aur packages"
    -
      command: sudo npm install -g tern
      stdout: true
      stderr: true
      description: "Installing tern spacemacs dependency"
    -
      command: sh -c "$(curl -fsSL https://raw.githubusercontent.com/robbyrussell/oh-my-zsh/master/tools/install.sh)"
      stdout: true
      stderr: true
      stdin: true
      description: "Installing oh-my-zsh"
    - command: vim -c VundleUpdate -c quitall
      stdout: true
      stderr: true
      stdin: true
      description: "Install vundle packages"

- link:
    ~/.dotfiles: ''

    # emacs
    ~/.emacs.d: spacemacs
    ~/.spacemacs: config/emacs/spacemacs

    # git
    ~/.gitconfig: config/git/gitconfig
    ~/.gitignore: config/git/gitignore

    # i3
    ~/.i3/config: config/i3/config
    ~/.i3/conkyrc: config/i3/conkyrc
    ~/bin/conky-i3bar: scripts/i3/conky-i3bar
    ~/bin/i3-time: scripts/i3/i3-time

    # mutt
    ~/.muttrc: config/mutt/muttrc
    ~/.mailcap: config/mutt/mailcap

    # tmux
    ~/.tmux.conf: config/tmux/tmux.conf

    # vim
    ~/.vimrc: config/vim/vimrc

    # X
    ~/.xinitrc: config/x/xinitrc
    ~/.Xresources: config/x/Xresources

    # zsh
    ~/.zshrc: config/zsh/zshrc
    ~/.zshenv: config/zsh/zshenv
    ~/.zprofile: config/zsh/zprofile

    # offlineimap
    ~/.offlineimaprc: config/offlineimap/offlineimaprc
    ~/.offlineimap.py: config/offlineimap/offlineimap.py
